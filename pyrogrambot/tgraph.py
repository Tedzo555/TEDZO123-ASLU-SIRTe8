from pyrogram import Client, filters
from telegraph import upload_file

@Client.on_message(
    filters.command("telegraph"))
async def telegraph(client, message):
    replied = message.reply_to_message
    if not replied:
        await message.reply_text("ğšğ™´ğ™¿ğ™»ğšˆ ğšƒğ™¾ ğ™° ğ™¿ğ™·ğ™¾ğšƒğ™¾ ğ™¾ğš ğš…ğ™¸ğ™³ğ™´ğ™¾ ğš„ğ™½ğ™³ğ™´ğš ğŸ»ğ™¼ğ™±.")
        return
    msg = await message.reply_text("Uploading To Telegraph...")
    download_location = await client.download_media(
        message=message, file_name='root/jetg')
    try:
        response = upload_file(download_location)
    except:
        await msg.edit_text("Photo size should be less than 5mb!") 
    else:
        await msg.edit_text(f'**Uploaded To Telegraph!\n\nğŸ‘‰ https://telegra.ph{response[0]}\n\nJoin @i_ajit**',
            disable_web_page_preview=True,
        )
    finally:
        os.remove(download_location)
